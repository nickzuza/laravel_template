@extends('admin.layouts')@section('content')    <style>        .acidjs-css3-treeview,        .acidjs-css3-treeview *        {            padding: 0;            margin: 0;            list-style: none;        }        .acidjs-css3-treeview label[for]::before,        .acidjs-css3-treeview label span::before        {            content: "\25b6";            display: inline-block;            margin: 2px 0 0;            width: 13px;            height: 13px;            vertical-align: top;            text-align: center;            color: #e74c3c;            font-size: 12px;            line-height: 13px;        }        .acidjs-css3-treeview li ul        {            margin: 0 0 0 22px;        }        .acidjs-css3-treeview *        {            vertical-align: middle;        }        .acidjs-css3-treeview label        {            font-weight: 500 !important;           /*font: normal 14px/16px "Segoe UI", Arial, Sans-serif;*/        }        .acidjs-css3-treeview li       {            -webkit-user-select: none;            -moz-user-select: none;            user-select: none;        }        .acidjs-css3-treeview input[type="checkbox"]        {           display: none;        }        .acidjs-css3-treeview label        {           cursor: pointer;        }        .acidjs-css3-treeview label[for]::before        {            -webkit-transform: translatex(-24px);            -moz-transform: translatex(-24px);            -ms-transform: translatex(-24px);            -o-transform: translatex(-24px);            transform: translatex(-24px);        }        .acidjs-css3-treeview label span::before        {            -webkit-transform: translatex(16px);            -moz-transform: translatex(16px);            -ms-transform: translatex(16px);            -o-transform: translatex(16px);            transform: translatex(16px);        }        .acidjs-css3-treeview input[type="checkbox"][id]:checked ~ label[for]::before        {            content: "\25bc";        }        .acidjs-css3-treeview input[type="checkbox"][id]:not(:checked) ~ ul        {            display: none;        }        .acidjs-css3-treeview label:not([for])        {            margin: 0 8px 0 0;        }        .acidjs-css3-treeview label span::before        {            content: "";            border: solid 1px #1375b3;            color: #1375b3;            opacity: .50;        }        .acidjs-css3-treeview label input:checked + span::before        {            content: "\2714";            box-shadow: 0 0 2px rgba(0, 0, 0, .25) inset;            opacity: 1;        }    </style>    <div class="box box-primary">        <div class="box-body">            <?php                $name = "name_".Lang::getLocale();            ?>            <div class="page-header">                @if(isset($caracteristic))                    @lang('admin.edit_caracteristic')                @else                    @lang('admin.add_caracteristic')                @endif            </div>            <div class="errors">                @if(isset($errors) && count($errors->all()) > 0)                     <div class="alert alert-danger fade in alert-error" id="alert-message">                        <a class="close" href="#" data-dismiss="alert">x</a>                        <ul style="list-style-type: none">                            <li>@lang('error.required')</li>                        </ul>                    </div>                @endif            </div>            <div class="box-body pad table-responsive about_class">                {!! Form::open(['method'=>'POST','name'=>'Form-addPages','files'=>true]) !!}                <div class="nav-tabs-custom">                    <ul class="nav nav-tabs">                        <li class="active"><a href="#tab_ru"                                              data-toggle="tab">{!! HTML::image("adminLTE/images/icon-ru.png",'',['class' => 'lng_img']) !!}</a>                        </li>                        <li><a href="#tab_ro"                               data-toggle="tab">{!! HTML::image("adminLTE/images/icon-ro.png",'',['class' => 'lng_img']) !!}</a></li>                    </ul>                    <div class="tab-content">                        <div class="tab-pane active" id="tab_ru">                            <div class="form-group row required">                                <label class="col-sm-2 control-label"><span class="red">*</span>{!! trans('admin.name_caracteristic') !!}</label>                                <div class="col-sm-10" @if($errors->has('name_ru')) id="has_errors" @endif>                                    <?php                                    $data = isset( $caracteristic )? $caracteristic->name_ru:'';                                    $data = old('name_ru',$data);                                    ?>                                    <input type="text" name="name_ru" value="{{$data}}" class="form-control"/>                                    <span class="errors">{!!  $errors->first('name_ru') !!}</span>                                </div>                            </div>                        </div>                        <div class="tab-pane" id="tab_ro">                            <div class="form-group row required">                                <label class="col-sm-2 control-label"><span class="red">*</span>{!! trans('admin.name_caracteristic') !!}</label>                                <div class="col-sm-10" @if($errors->has('name_ro')) id="has_errors" @endif>                                    <?php                                    $data = isset( $caracteristic )? $caracteristic->name_ro:'';                                    $data = old('name_ro',$data);                                    ?>                                    <input type="text" name="name_ro" value="{{$data}}" class="form-control"/>                                    <span class="errors">{!!  $errors->first('name_ro') !!}</span>                                </div>                            </div>                        </div>                        <div class="form-group row required">                            <label class="col-sm-2 control-label"><span class="red">*</span>{!! trans('admin.category_caracteristic') !!}</label>                            <div class="col-sm-10">                                <div class="acidjs-css3-treeview">                                    <ul>                                        <input type="hidden" id="product_categories"  name="category" value="">                                    @foreach($categories as $level1)                                            <li>                                                <input type="checkbox" checked  id="node-0-{!! $level1->id !!}" @if(isset($category ) &&  in_array($level1->id,$category)  ) checked="checked" @endif  />                                                    <label class="level1_test">                                                           <input type="checkbox" @if(isset($category ) && in_array($level1->id,$category)) checked="checked" @endif name="category_id"  value="{!! $level1->id !!}"/>                                                        <span></span>                                                    </label>                                                <label class="level1" for="node-0-{!! $level1->id !!}">{!! $level1->$name !!}</label>                                                @if( isset($level1['level2']) )                                                    <ul>                                                    @foreach($level1['level2'] as $level2)                                                        <li><input type="checkbox" checked id="node-0-0-{!! $level2->id !!}" @if(isset($category ) &&  in_array($level2->id,$category)  ) checked="checked" @endif /><label><input  name="category_id" @if(isset($category ) && in_array($level2->id,$category)) checked="checked" @endif value="{!! $level2->id !!}" type="checkbox"/><span></span></label><label class="level2" for="node-0-0-{!! $level2->id !!}">{!! $level2->$name !!}</label>                                                            @if( isset( $level2['level3']) )                                                                <ul>                                                                    @foreach($level2['level3'] as $level3 )                                                                        <li><input  type="checkbox" @if(isset($category ) &&  in_array($level3->id,$category)  ) checked="checked" @endif  id="node-0-0-0-{!! $level3->id !!}"  /><label><input name="category_id" @if(isset($category ) && in_array($level3->id,$category)) checked="checked" @endif value="{!! $level3->id !!}" type="checkbox" /><span></span></label><label class="level3" for="node-0-0-0-{!! $level3->id !!}">{!! $level3->$name !!}</label>                                                                    @endforeach                                                                </ul>                                                            @endif                                                        </li>                                                    @endforeach                                                    </ul>                                                 @endif                                            </li>                                        @endforeach                                    </ul>                                </div>                            </div>                        </div>                        <div class="clear" style="clear: both"></div>                    </div>                    <input type="hidden" name="_Token" value="{{ csrf_token() }}">                    <input type="hidden" name="id" value="@if(isset($caracteristic->id )){!!$caracteristic->id  !!}@endif">                    <div class="clear" style="clear: both"></div>                    <input type="submit" value="{!! trans('admin.save') !!}" class="btn btn-primary btn-save">                </div>                {!! Form::close() !!}            </div>        </div>    </div>@stop@section('script')    <script>        $('.level1_test span').on('click', function(){            if ($(this).prev().prop('checked')){                $(this).parent().parent().find('li').each(function(){                    $(this).find('input').prop("checked", false);                });            }            else{                $(this).parent().parent().find('li').each(function(){                    //$(this).find('span').click();                    $(this).find('input').prop("checked", true);});            }        });        $('input[type=checkbox]').change(function () {            var arrNumber = new Array();            $('input[name=category_id]:checked').each(function(){                arrNumber.push($(this).val());            })            $('#product_categories').val(arrNumber);        })    </script>@stop